<?xml version="1.0" encoding="UTF-8"?>
<launch>
  <arg name="robot" default="RR01" />
  <arg name="seg_viz" default="false"/>

  <group ns="$(arg robot)" >

    <remap from="color/image_raw" to="l515/color/image_raw" />
    <remap from="color/camera_info" to="l515/color/camera_info" />
    <remap from="depth/image_raw" to="l515/aligned_depth_to_color/image_raw" />
    <remap from="depth/camera_info" to="l515/aligned_depth_to_color/camera_info" />
    <!-- <remap from="depth/camera_info" to="l515/color/camera_info" /> -->
    <!-- <remap from="odom" to="kimera_vio_ros/odometry" /> -->
    <remap from="odom" to="odometry" />
    
    <node respawn="false" name="fastsam_node" pkg="segment_track_ros" type="fastsam_node.py" output="screen">
        <rosparam command="load" file="$(find segment_track_ros)/cfg/rover_fastsam.yaml" />
        <param name="cam_frame_id" value="$(arg robot)/l515_color_optical_frame" />
    </node>

    <node respawn="false" name="segment_track_node" pkg="segment_track_ros" type="segment_track_node.py" output="screen">
        <param name="visualize" value="$(arg seg_viz)" />
        <param name="cam_frame_id" value="$(arg robot)/l515_color_optical_frame" />
        <param name="map_frame_id" value="world" />
    </node>

    <node respawn="false" name="mocap_to_odom_node" pkg="mocap" type="mocap_to_odom.py" output="screen">
        <param name="body_frame_id" value="$(arg robot)" />
    </node>
  
  </group>

</launch>
